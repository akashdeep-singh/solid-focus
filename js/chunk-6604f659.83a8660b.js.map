{"version":3,"sources":["webpack:///./src/dialogs/DialogForm.vue?ecb2","webpack:///./src/dialogs/DialogForm.vue","webpack:///./src/dialogs/DialogForm.vue?f4bc","webpack:///./src/dialogs/DialogForm.vue?9f2f","webpack:///./src/utils/Validations.ts","webpack:///./src/dialogs/CreateWorkspace.vue?93e3","webpack:///./src/dialogs/CreateWorkspace.vue","webpack:///./src/dialogs/CreateWorkspace.vue?771d","webpack:///./src/dialogs/CreateWorkspace.vue?b723"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","dialog","title","scopedSlots","_u","key","fn","flat","on","click","close","_v","color","submit","_s","submitLabel","proxy","ref","staticClass","lazy-validation","$event","preventDefault","_t","staticRenderFns","DialogFormvue_type_script_lang_ts_","vue_runtime_esm","extend","components","DialogBase","props","type","String","default","Object","required","cancelLabel","methods","$ui","closeDialog","id","$refs","form","validate","$emit","dialogs_DialogFormvue_type_script_lang_ts_","component","componentNormalizer","options","__file","__webpack_exports__","length","value","concat","Validations","submit-label","completed","createWorkspace","$auth","mode","Mode","Solid","items","user","storages","rules","storage","label","model","callback","$$v","expression","_e","name","validate-on-blur","autofocus","keydown","indexOf","_k","keyCode","CreateWorkspacevue_type_script_lang_ts_","DialogForm","data","computed","maxLength","Auth","created","_this","withUser","mounted","$nextTick","focus","_createWorkspace","_asyncToGenerator","regenerator_default","a","mark","_callee","_this$$workspaces","args","wrap","_context","prev","next","t0","Offline","abrupt","completeDialog","wrapAsyncOperation","$workspaces","apply","_toConsumableArray","stop","arguments","dialogs_CreateWorkspacevue_type_script_lang_ts_"],"mappings":"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","file":"js/chunk-6604f659.83a8660b.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('DialogBase',{attrs:{\"dialog\":_vm.dialog,\"title\":_vm.title},scopedSlots:_vm._u([{key:\"actions\",fn:function(){return [_c('v-spacer'),_c('v-btn',{attrs:{\"flat\":\"\"},on:{\"click\":_vm.close}},[_vm._v(\"Close\")]),_c('v-btn',{attrs:{\"color\":\"primary\"},on:{\"click\":_vm.submit}},[_vm._v(\"\\n            \"+_vm._s(_vm.submitLabel)+\"\\n        \")])]},proxy:true}])},[_c('v-form',{ref:\"form\",staticClass:\"p-4\",attrs:{\"lazy-validation\":\"\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.submit($event)}}},[_vm._t(\"default\",null,{\"submit\":_vm.submit})],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\n\nimport { VForm } from 'vuetify';\n\nimport { Dialog } from '@/services/UI';\n\nimport DialogBase from '@/dialogs/DialogBase.vue';\n\nexport default Vue.extend({\n    components: {\n        DialogBase,\n    },\n    props: {\n        title: {\n            type: String,\n            default: null,\n        },\n        dialog: {\n            type: Object as () => Dialog,\n            required: true,\n        },\n        cancelLabel: {\n            type: String,\n            default: 'Cancel',\n        },\n        submitLabel: {\n            type: String,\n            default: 'Submit',\n        },\n    },\n    methods: {\n        close() {\n            this.$ui.closeDialog(this.dialog.id);\n        },\n        submit() {\n            if ((this.$refs.form as VForm).validate()) {\n                this.$emit('completed');\n            }\n        },\n    },\n});\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DialogForm.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DialogForm.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./DialogForm.vue?vue&type=template&id=5dff82f2&\"\nimport script from \"./DialogForm.vue?vue&type=script&lang=ts&\"\nexport * from \"./DialogForm.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"DialogForm.vue\"\nexport default component.exports","import { ValidationRule } from 'vuetify';\n\nclass Validations {\n\n    public get required(): ValidationRule {\n        return (value: any) => !!value || 'This field is required';\n    }\n\n    public minLength(length: number): ValidationRule {\n        return (value: any) =>\n            (value && value.length >= length) ||\n                `This field must be more than ${length} characters long`;\n    }\n\n    public maxLength(length: number): ValidationRule {\n        return (value: any) =>\n            (value && value.length <= length) ||\n                `This field must be less than ${length} characters long`;\n    }\n\n}\n\nexport default new Validations();\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('DialogForm',{attrs:{\"dialog\":_vm.dialog,\"title\":\"Create Workspace\",\"submit-label\":\"Create\"},on:{\"completed\":_vm.createWorkspace},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar submit = ref.submit;\nreturn [(_vm.$auth.mode === _vm.Mode.Solid)?_c('v-select',{attrs:{\"items\":_vm.$auth.user.storages,\"rules\":_vm.rules.storage,\"label\":\"Storage\"},model:{value:(_vm.storage),callback:function ($$v) {_vm.storage=$$v},expression:\"storage\"}}):_vm._e(),_c('v-text-field',{ref:\"name\",attrs:{\"rules\":_vm.rules.name,\"label\":\"Name\",\"validate-on-blur\":\"\",\"autofocus\":\"\"},on:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return submit($event)}},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}})]}}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\n\nimport { ValidationRule } from 'vuetify';\n\nimport User from '@/models/users/User';\nimport SolidUser from '@/models/users/SolidUser';\n\nimport { Dialog } from '@/services/UI';\n\nimport DialogForm from '@/dialogs/DialogForm.vue';\n\nimport Validations from '@/utils/Validations';\nimport { Mode } from '@/services/Auth';\n\ninterface Data {\n    storage: string;\n    name: string;\n}\n\nexport default Vue.extend({\n    components: {\n        DialogForm,\n    },\n    props: {\n        dialog: {\n            type: Object as () => Dialog,\n            required: true,\n        },\n    },\n    data(): Data {\n        return {\n            storage: '',\n            name: '',\n        };\n    },\n    computed: {\n        rules(): { [field: string]: ValidationRule[] } {\n            return {\n                storage: [\n                    Validations.required,\n                ],\n                name: [\n                    Validations.required,\n                    Validations.maxLength(255),\n                ],\n            };\n        },\n        Mode: () => Mode,\n    },\n    created() {\n        if (this.$auth.mode === Mode.Solid) {\n            this.$auth.withUser((user: User) => {\n                this.storage = (user as SolidUser).storages[0];\n            });\n        }\n    },\n    mounted() {\n        // Autofocus does not seem to work as expected inside dialogs\n        // see: https://github.com/vuetifyjs/vuetify/search?q=autofocus+dialog&type=Issues\n        this.$nextTick((this.$refs.name as any).focus);\n    },\n    methods: {\n        async createWorkspace() {\n            let args: any[] = [];\n            switch (this.$auth.mode) {\n                case Mode.Offline:\n                    args = [this.name];\n                    break;\n                case Mode.Solid:\n                    args = [this.storage, this.name];\n                    break;\n            }\n\n            this.$ui.completeDialog(this.dialog.id);\n            this.$ui.wrapAsyncOperation(\n                this.$workspaces.createWorkspace(...args),\n                `Creating ${this.name} workspace...`\n            );\n        },\n    },\n});\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreateWorkspace.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreateWorkspace.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./CreateWorkspace.vue?vue&type=template&id=479a8216&\"\nimport script from \"./CreateWorkspace.vue?vue&type=script&lang=ts&\"\nexport * from \"./CreateWorkspace.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"CreateWorkspace.vue\"\nexport default component.exports"],"sourceRoot":""}